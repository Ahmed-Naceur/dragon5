\subsection{The \moc{FMT:} module}\label{sect:FMTData}

The utility module \moc{FMT:} is used to format various data structure to suit the specific user needs.  Here three formatting options are available.
 \begin{enumerate}
\item The \moc{SUS3D} option where three files are created that respectively contain the integration weights and directions (ASCII), the directional flux (binary or ASCII) and the
directional adjoints (binary or ASCII) in a CP or $S_{N}$ format.\cite{Kodeli2001a,Bidaud2009a} The input specifications for this option are  

\begin{DataStructure}{Structure \dstr{FMT:} for \moc{SUS3D} option}%{SUS3Dcnt}
\dusa{WGTANGL} \dusa{DFLUX} \dusa{DADJOINTS} \moc{:=} \moc{FMT:} \dusa{FLUX}  \dusa{VOLTRK}  \moc{::}\\ 
\hspace{1.0cm} $[$ \moc{EDIT} \dusa{iprint} $]$ \\
\hspace{1.0cm} \moc{SUS3D} $[$ $\{$ \moc{SN} $|$ \moc{CP} $\}$ $]$
\end{DataStructure}

\item The \moc{DIRFLX} option where a single file is created that contain the directional flux, adjoints and generalized adjoints. The input specifications for this option are

\begin{DataStructure}{Structure \dstr{FMT:} for \moc{DIRFLX} option}%{DIRFLXcnt}
\dusa{DAF} \moc{:=} \moc{FMT:} \dusa{FLUX}  \dusa{VOLTRK}  \moc{::} \\ 
\hspace{1.0cm} $[$ \moc{EDIT} \dusa{iprint} $]$ \\
\hspace{1.0cm} \moc{DIRFLX} 
\end{DataStructure}

\item The \moc{BURNUP} option where a Matlab-m file is created that contain the burnup time, the variation of $k_{\text{eff}}$ with time and the time dependent concentration of the different isotopes present in the geometry. The input specifications for this option are 

\begin{DataStructure}{Structure \dstr{FMT:} for \moc{BURNUP} option}%{BURNUPcnt}
\dusa{MFILE} \moc{:=} \moc{FMT:} \dusa{EDITION}  \dusa{BURNUP}  \moc{::} \\ 
\hspace{1.0cm} $[$ \moc{EDIT} \dusa{iprint} $]$ \\
\hspace{1.0cm} \moc{BURNUP} \\
\hspace{1.0cm} $[$ \moc{ISOP} $[$ (\moc{NAMISO}($i$),$i=1,I$) $]$ $]$ 
\end{DataStructure}

\end{enumerate}

\begin{ListeDeDescription}{mmmmmmmm}

\item[\dusa{WGTANGL}] \verb|character*12| name of the \moc{ASCII} file that will
contain the angular weights and directions.

\item[\dusa{DFLUX}] \verb|character*12| name of the \moc{ASCII} or \moc{BINARY} file that will
contain the directional flux in a SUS3D compatible format.

\item[\dusa{DADJOINTS}] \verb|character*12| name of the \moc{ASCII} or \moc{BINARY} file that will contain the directional adjoints in a SUS3D compatible format.

\item[\dusa{DAF}] \verb|character*12| name of the \moc{ASCII} file that will contain the spherical harmonic moments of the fluxes, adjoints and generalized
adjoints in a DIRFLX compatible format.

\item[\dusa{FLUX}] \verb|character*12| name of the \dds{fluxunk} data structure to process.

\item[\dusa{VOLTRK}] \verb|character*12| name of the \dds{tracking} data structure to process.

\item[\dusa{MFILE}] \verb|character*12|  name of the \moc{ASCII}  Matlab M-file that will
contain the burnup time, the time dependent $k_{\text{eff}}$ and concentration of the different isotopes present in the geometry.

\item[\dusa{EDITION}] \verb|character*12| name of the \dds{edition} data structure to process.

\item[\dusa{BURNUP}] \verb|character*12| name of the \dds{burnup} data structure to process.

\item[\moc{EDIT}] keyword used to modify the print level \dusa{iprint}.

\item[\dusa{iprint}] index used to control the printing in this module. 

\item[\moc{SUS3D}] keyword to activate the SUS3D processing option.

\item[\moc{SN}] keyword to generate $S_N$ compatible fluxes and adjoints (cell edge values). It is the default value.  

\item[\moc{CP}] keyword to generate CP compatible fluxes and adjoints (cell averaged values).

\item[\moc{DIRFLX}] keyword to activate the DIRFLX processing option.

\item[\moc{BURNUP}] keyword to activate the BURNUP processing option.

\item[\moc{ISOP}] keyword to activate the istope processing. If \moc{ISOP} is absent, only the time and time dependent $k_{\text{eff}}$ are saved.

\item[\moc{NAMISO}] name of istopes to precess. If no isitope name is specified, all the isotopes are processed.

\end{ListeDeDescription}

\eject
