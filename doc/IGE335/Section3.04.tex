\subsection{The tracking modules}\label{sect:TRKData}

A tracking module is required to analyze a spatial domain (geometry) assuming
a specific algorithm will be used for the collision probability or method of characteristics
calculations.  It performs zone numbering operations, volume and surface area
calculations and generates the required  integration lines for a geometry that
was previously defined in the \moc{GEO:} module. These operations are carried
out differently depending on the solution algorithm used.

\vskip 0.15cm

Many different operators are available for tracking in DRAGON. The \moc{SYBILT:} module
is used for 1--D geometries (either plane, cylindrical or spherical) and
interface current tracking inside heterogeneous blocks. The \moc{EXCELT:} module
is used to perform full cell collision probability tracking with
isotropic\cite{DragonPIJI,Mtl93a} or specular\cite{DragonPIJS1,Mtl93b}
surface current. The \moc{NXT:} module is an extension of the \moc{EXCELT:}
module to more complex geometry including assemblies of clusters in two and
three dimensions.\cite{ige260}  The \moc{MCCGT:} module is an implementation of the open
characteristics method of I.~R.~Suslov.\cite{mccg,suslov2}. These are the transport
tracking modules which can be used everywhere in the code where tracking
information needs to be generated. The \moc{SNT:} module is an implementation of
the discrete ordinates (or $S_N$) method in 1-D/2-D/3-D geometries.
The module \moc{BIVACT:} is used to perform a finite-element (diffusion or SP$_n$) 1-D/2-D
tracking which may be required for diffusion synthetic acceleration (DSA) or homogenization
purposes.\cite{BIVAC} The final module \moc{TRIVAT:} is used to perform a finite-element
1-D/2-D/3-D tracking which may be required for DSA or homogenization purposes.\cite{TRIVAC}

\vskip 0.15cm

None of these modules can analyze all of the geometry available in the code
DRAGON. In general, the restrictions that apply to a given tracking module
result directly from the approximation associated with this method. Moreover, in
other instances, some geometries which would have had the same tracking file
generated by two different method, such as tube geometry for the \moc{SYBILT:}
and \moc{EXCELT:} module, have been made available only to one of these tracking
module (module \moc{SYBILT:} in this case).

\vskip 0.15cm

The general information resulting from these
tracking is stored in a \dds{tracking} data structure.
For the \moc{EXCELT:} and \moc{NXT:} modules, an additional sequential binary
tracking file may be generated.

\vskip 0.15cm

The global numbering of the zones in a geometry proceeds following an
order of priorities given by:

\begin{itemize}

\item the different rings of a cylindrical or spherical region starting with the
inner most after mesh splitting;

\item for a cluster regions located in a ring, two different numbering schemes are possible. For the \moc{EXCELT:} 
module, one first numbers the region inside the pin in the same way as for cylindrical regions and finishes 
by associating the next region number to the shell of the global geometry which contains this pin. If two 
cluster types are located in a given ring, they are classified according to increasing \dusa{rpin} and \dusa{apin} and then 
numbered in this order. Cluster overlapping annular region are numbered before considering the annular 
regions. For the \moc{NXT:} module, each pin is numbered individually in a Cartesian region according to their 
ordered in the \moc{CLUSTER} keywords and then the Cartesian regions are numbered sequentially. A description 
of the explicit numbering of regions and surfaces can be found in report IGE-260.\cite{ige260}
 
\item the zones in ascending order corresponding to the first axial component
(normally $X$) after mesh splitting;

\item the zones in ascending order corresponding to the second axial component
(normally $Y$) after mesh splitting;

\item the hexagonal zones corresponding to the order described in
\Fig{s30} to \Fig{compl}.

\item  the sub-geometry of type \moc{CARCELX}, \moc{CARCELY} and
\moc{CARCELZ} are numbered assuming that the third component corresponds to 
$X$, $Y$ and $Z$ respectively.

\end{itemize}
 
We should also note that symmetry conditions implicitly force the grouping of
certain calculation zones.

\vskip 0.2cm

All the tracking operators of DRAGON share an identical general tracking data
structure defined as

\begin{DataStructure}{Structure \dstr{desctrack}}
$[$ \moc{EDIT} \dusa{iprint} $]$\\
$[$ \moc{TITL} \dusa{TITLE} $]$ \\
$[$ \moc{MAXR} \dusa{maxreg} $]$\\
$[$ $\{$ \moc{NORE} $|$ \moc{RENO} $|$ \moc{REND} $\}$ $]$
\end{DataStructure}

\noindent with

\begin{ListeDeDescription}{mmmmmmm}

\item[\moc{EDIT}] keyword used to modify the print level \dusa{iprint}.

\item[\dusa{iprint}] index used to control the printing of this operator. The
amount of output produced by this tracking operators will vary substantially
depending on the print level specified. For example,

\begin{itemize}

\item when \dusa{iprint}=0 no output is produced;

\item when \dusa{iprint}=1 a minimum amount of output is produced; the 
main geometry properties are printed (fixed default option);

\item when \dusa{iprint}$\ge$2 In addition to the information printed when
using \dusa{iprint}=1 the zone numbering (zones associated with a flux) is
printed;

\end{itemize}

\item[\moc{TITL}] keyword which allows the run title to be set.

\item[\dusa{TITLE}] the title associated with a DRAGON run. This
title may contain up to 72 characters. The default when \moc{TITL}  is not
specified is no title.

\item[\moc{MAXR}] keyword which permits the maximum number of regions to be
considered during a DRAGON run to be specified.

\item[\dusa{maxreg}] maximum dimensions of the problem to be considered.  The
default value is set to the number of regions previously computed by the
\moc{GEO:} module. However this value is generally insufficient if symmetries or
mesh-splitting are specified.

\item[\moc{NORE}] keyword to specify that the automatic normalization of the integration lines is deactivated.

\item[\moc{RENO}]  keyword to specify the activation of the {\sl direction-independent} normalization procedure of the
integration lines. The normalization factors are {\sl not} function of the subtracks directions. This option is only
valid for modules \moc{NXT:}, \moc{EXCELT:} and \moc{SALT:}. This is the default option for \moc{NXT:} and \moc{SALT:}
modules.

\item[\moc{REND}]  keyword to specify the activation of the {\sl direction-dependent} normalization procedure of the
integration lines. The normalization factors are function of the subtracks directions. This option is only valid for
modules \moc{NXT:}, \moc{EXCELT:} and \moc{SALT:}. This is the default option for \moc{EXCELT:} module.

\end{ListeDeDescription}
\eject

\input{Section3.04_sybil.tex} % structure (sybilT)
\input{Section3.04_excell.tex} % structure (excellT)
\input{Section3.04_nxt.tex} % structure (nxtT)
\input{Section3.04_mccg.tex} % structure (mccgT)
\input{Section3.04_sn.tex} % structure (snT)
\input{Section3.04_bivac.tex} % structure (bivacT)
\input{Section3.04_trivac.tex} % structure (trivacT)
