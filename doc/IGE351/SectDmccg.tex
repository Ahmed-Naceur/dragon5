\subsection{The \moc{mccgt} dependent records on a \dir{tracking} directory}\label{sect:mccgtrackingdir}

When the \moc{MCCGT:} module is used ($\mathsf{CDOOR}$={\tt 'MCCG'}), an additional state vector
named {\tt MCCG-STATE} is set in \moc{EXCELT:} data structure. The components $\mathcal{M}^{t}_{i}$
of {\tt MCCG-STATE} are:

\begin{itemize}

\item $\mathcal{M}^{t}_{1}$: ({\tt LCACT}) The polar quadrature type used with the method of characteristics 
\begin{displaymath}
\mathcal{M}^{t}_{1} = \left\{
\begin{array}{rl}
 0 & \textrm{Gauss-Legendre} \\
 1 & \textrm{CACTUS type 1} \\
 2 & \textrm{CACTUS type 2} \\
 3 & \textrm{McDaniel} \\
 4 & \textrm{McDaniel with $P_1$ constraint} \\
 5 & \textrm{Gauss optimized.}
\end{array} \right.
\end{displaymath}

\item $\mathcal{M}^{t}_{2}$: ({\tt NMU}) The order of the polar quadrature.

\item $\mathcal{M}^{t}_{3}$: ({\tt KRYL}) GMRES acceleration switch:
\begin{displaymath}
\mathcal{M}^{t}_{3} = \left\{
\begin{array}{rl}
 0 & \textrm{free inner iterations} \\
 \ge 1 & \textrm{GMRES$(\mathcal{M}^{t}_{3})$ acceleration of inner iterations} \\
 \le 1 & \textrm{Bi-CGSTAB acceleration of inner iterations}
\end{array} \right.
\end{displaymath}

\item $\mathcal{M}^{t}_{4}$: ({\tt IDIFC}) Type of solution operator:
\begin{displaymath}
\mathcal{M}^{t}_{4} = \left\{
\begin{array}{rl}
 0 & \textrm{transport flux solution selected} \\
 1 & \textrm{CDD diffusion flux solution selected (no inner iterations are performed} \\
   & \textrm{in this case, only an ACA resolution is performed)}
\end{array} \right.
\end{displaymath}

\item $\mathcal{M}^{t}_{5}$: ({\tt NMAX}) The maximum number of elements in a single track.

\item $\mathcal{M}^{t}_{6}$: ({\tt LMCU}) The dimension of the connection matrix {\tt MCU}.

\item $\mathcal{M}^{t}_{7}$: ({\tt IACC}) ACA preconditioning switch:
\begin{displaymath}
\mathcal{M}^{t}_{7} = \left\{
\begin{array}{rl}
 0 & \textrm{no ACA preconditioning} \\
 \ge 1 & \textrm{ACA preconditioning of inner/multigroup iterations}
\end{array} \right.
\end{displaymath}
If the number of inner iterations is set to 1, ACA is used as a rebalancing technique for multigroup iterations and $\mathcal{M}^{t}_{7}$ is the maximum number of iterations allowed to solve the ACA system.

\item $\mathcal{M}^{t}_{8}$: ({\tt ISCR}) SCR preconditioning switch:
\begin{displaymath}
\mathcal{M}^{t}_{8} = \left\{
\begin{array}{rl}
 0 & \textrm{no SCR preconditioning} \\
 \ge 1 & \textrm{SCR preconditioning of inner/multigroup iterations}
\end{array} \right.
\end{displaymath}
If the number of inner iterations is set to 1, SCR is used as a rebalancing technique for multigroup iterations and $\mathcal{M}^{t}_{8}$ is the maximum number of iterations allowed to solve the SCR system.

\item $\mathcal{M}^{t}_{9}$: ({\tt LPS}) The dimension of the surface-to-region collision probabilities array if SCR is used.

\item $\mathcal{M}^{t}_{10}$: ({\tt ILU}) The type of preconditioning for the resolution with BICGSTAB of the ACA corrective system if ACA is used:
\begin{displaymath}
\mathcal{M}^{t}_{10} = \left\{
\begin{array}{rl}
 0 & \textrm{no preconditioning} \\
 1 & \textrm{diagonal preconditioning} \\
 \ge 2 & \textrm{ILU0 preconditioning}
\end{array} \right.
\end{displaymath}

\item $\mathcal{M}^{t}_{11}$: ({\tt ILEXA}) Flag to force the usage of exact exponentials for preconditioner calculation:
\begin{displaymath}
\mathcal{M}^{t}_{11} = \left\{
\begin{array}{rl}
 0 & \textrm{not forced} \\
 1 & \textrm{forced}
\end{array} \right.
\end{displaymath}

\item $\mathcal{M}^{t}_{12}$: ({\tt ILEXF}) Flag to force the usage of exact exponentials for flux calculation:
\begin{displaymath}
\mathcal{M}^{t}_{12} = \left\{
\begin{array}{rl}
 0 & \textrm{not forced} \\
 1 & \textrm{forced}
\end{array} \right.
\end{displaymath}

\item $\mathcal{M}^{t}_{13}$: ({\tt MAXI}) Maximum number of inner iterations.

\item $\mathcal{M}^{t}_{14}$: ({\tt LTMT}) Flag for the usage of a tracking merging technique while building the ACA matrices in order to obtain a two-step ACA acceleration:
\begin{displaymath}
\mathcal{M}^{t}_{14} = \left\{
\begin{array}{rl}
 0 & \textrm{no tracking merging} \\
 1 & \textrm{tracking merging}
\end{array} \right.
\end{displaymath}

\item $\mathcal{M}^{t}_{15}$: ({\tt STIS}) Flag for the flux integration strategy by the characteristics method:
\begin{displaymath}
\mathcal{M}^{t}_{15} = \left\{
\begin{array}{rl}
 0 & \textrm{direct approach with asymptotical treatment} \\
 1 & \textrm{``Source term isolation'' approach: optimized strategy with asymptotical treatment} \\
-1 & \textrm{"MOCC/MCI"-like approach: optimized strategy without asymptotical treatment}
\end{array} \right.
\end{displaymath}

\item $\mathcal{M}^{t}_{16}$: ({\tt NPJJM}) Effective number of angular mode-to-mode self-collision probabilities to be calculated per group and region if $\mathcal{M}^{t}_{15}=1$ e.g.
\begin{center}
\begin{tabular}{|c|c|c|}
 anisotropy & 2D & 3D \\ \hline
$P_0$       &  1 &  1 \\
$P_1$       &  4 &  7 \\
$P_2$       & 13 & 27 \\
$P_3$       & 31 & 76 \\ \hline
\end{tabular}
\end{center}

\item $\mathcal{M}^{t}_{17}$: ({\tt LMCU0}) Effective number of non-diagonal elements to store for the ILU0 decomposition for ACA preconditioning.
 
\item $\mathcal{M}^{t}_{18}$: ({\tt IFORW}) Flag to set the solution type for the ACA and characteristics system:
\begin{displaymath}
\mathcal{M}^{t}_{18} = \left\{
\begin{array}{rl}
 0 & \textrm{direct solution} \\
 1 & \textrm{adjoint solution}
\end{array} \right.
\end{displaymath}

\item $\mathcal{M}^{t}_{19}$: ({\tt NFUNL}) Number of spherical harmonics components used to expand the flux and the sources.

\item $\mathcal{M}^{t}_{20}$: ({\tt NLIN}) Number of polynomial components used to expand the flux and the sources in space.

\end{itemize}

The following records will also be present on the main level of a \dir{tracking}
directory.

%\rotatebox[origin=c]{90}{
\begin{DescriptionEnregistrement}{The \moc{MCCGT:} records in
\dir{tracking}}{8.0cm}
\IntEnr
  {MCCG-STATE\blank{2}}{$40$}
  {Vector describing the various parameters associated with this data structure $\mathcal{M}^{t}_{i}$,
  as defined in \Sect{mccgtrackingdir}.}
\RealEnr
  {REAL-PARAM\blank{2}}{$4$}{}
  {Real parameters $\mathcal{R}_{i}$ for the MCCG tracking.}
\RealEnr
  {XMU\$MCCG\blank{4}}{$\mathcal{M}^{t}_{2}$}{}
  {Inverse of the polar quadrature sines.}
\RealEnr
  {ZMU\$MCCG\blank{4}}{$\mathcal{M}^{t}_{2}$}{}
  {Cosines of the polar quadrature set.}
\RealEnr
  {WZMU\$MCCG\blank{3}}{$\mathcal{M}^{t}_{2}$}{}
  {Weights of the polar quadrature set.}
\OptIntEnr
  {PI\$MCCG\blank{5}}{$N_{\rm dim}$}{$\mathcal{S}^t_{15} > 0$}
  {Permutation array for ACA according to $i_\textrm{old}=\Pi(i_\textrm{new})$. The dimension of this array is $$N_{\rm dim}=\cases{\mathcal{S}^t_{1}+\mathcal{S}^t_{5} &if $\mathcal{S}^t_9=0$; \cr
  \mathcal{S}^t_1 &if $\mathcal{S}^t_9=1$. }$$}
\OptIntEnr
  {INVPI\$MCCG\blank{2}}{$\mathcal{S}^t_{1}+\mathcal{S}^t_{5}$}{$\mathcal{S}^t_{15} > 0$}
  {Inverse permutation array for ACA $i_\textrm{new}=\Pi(i_\textrm{old})$}
\IntEnr
  {NZON\$MCCG\blank{3}}{$\mathcal{S}^{t}_{1}+\mathcal{S}^{t}_{5}$}
  {Index-number of the mixture type assigned to each volume and the albedo number assigned to each surface.}
\OptIntEnr
  {NZONA\$MCCG\blank{2}}{$\mathcal{S}^{t}_{1}+\mathcal{S}^{t}_{5}$}{$\mathcal{S}^t_{15} > 0$}
  {Index-number of the mixture type assigned to each volume and the albedo number assigned to each surface (-7 for void boundary conditions).}
\RealEnr
  {V\$MCCG\blank{6}}{$\mathcal{S}^{t}_{1}+\mathcal{S}^{t}_{5}$}{}
  {Volumes and numerical surfaces.}
\OptRealEnr
  {VA\$MCCG\blank{5}}{$\mathcal{S}^{t}_{1}+\mathcal{S}^{t}_{5}$}{$\mathcal{S}^t_{15} > 0$}{}
  {Renumbered Volumes and numerical surfaces.}
\OptIntEnr
  {KM\$MCCG\blank{5}}{$N_{\rm dim}$}{$\mathcal{M}^{t}_{7}>0$}
  {Connection matrix for ACA.}
\OptIntEnr
  {IM\$MCCG\blank{5}}{$N_{\rm dim}+1$}{$\mathcal{M}^{t}_{7}>0$}
  {Connection matrix for ACA.}
\OptIntEnr
  {MCU\$MCCG\blank{4}}{$\mathcal{M}^{t}_{6}$}{$\mathcal{M}^{t}_{7}>0$}
  {Connection matrix for ACA.}
\OptIntEnr
  {JU\$MCCG\blank{5}}{$N_{\rm dim}$}{$\left\{\hskip -2mm\begin{tabular}{l} $\mathcal{S}^t_{15} > 0$ \\ $\mathcal{M}^t_{3}\ge2$ \end{tabular}\right.$}
  {Used for ILU0 decomposition in the preconditioning of ACA system.}
\OptIntEnr
  {IS\$MCCG\blank{5}}{$\mathcal{S}^t_{5}$}{$\mathcal{M}^t_{1}>0$}
  {Connection matrix for surface-to-volume probability in SCR.}
\OptIntEnr
  {JS\$MCCG\blank{5}}{$\mathcal{M}^t_{7}$}{$\mathcal{M}^t_{1}>0$}
  {Connection matrix for surface-to-volume probability in SCR.}
\IntEnr
  {ISGNR\$MCCG\blank{2}}{$8(\mathcal{S}^{t}_{6})^2$}
  {Signs for spherical harmonics on the 8 octant angular modes.} 
\OptIntEnr
  {KEYCUR\$MCCG\blank{1}}{$\mathcal{S}^t_5$}{$\mathcal{S}^t_{9}=1$}
  {Index for outgoing currents at the domain boundaries.} 
\IntEnr
  {KEYFLX\$ANIS\blank{1}}{$\mathcal{S}^t_1,\mathcal{M}^t_{20},\mathcal{M}^t_{19}$}
  {Location in unknown vector of averaged regional flux moments.} 
\OptIntEnr
  {KEYANI\$MCCG\blank{1}}{$(\mathcal{S}^{t}_{6})^2$}{$\mathcal{S}^t_9=1$}
  {Index for currents.}
\OptIntEnr
  {PJJIND\$MCCG\blank{1}}{$2\mathcal{M}^{t}_{16}$}{$\mathcal{M}^t_{15}=1$}
  {Index of modes connection for non vanishing angular mode-to-mode self-collision probabilities}
  
 \OptIntEnr
  {IM0\$MCCG\blank{4}}{$N_{\rm dim}+1$}{$\left\{\hskip -2mm\begin{tabular}{l} $\mathcal{M}^t_{7}>0$ \\ $\mathcal{M}^t_{3}=3$ \end{tabular}\right.$}
  {Connection matrix for non-diagonal elements of ILU0-ACA.}
\OptIntEnr
  {MCU0\$MCCG\blank{3}}{$\mathcal{M}^{t}_{17}$}{$\left\{\hskip -2mm\begin{tabular}{l} $\mathcal{M}^t_{7}>0$ \\ $\mathcal{M}^t_{3}=3$ \end{tabular}\right.$}
  {Connection matrix for non-diagonal elements of ILU0-ACA.}
  
\end{DescriptionEnregistrement}%}

\noindent
with the real parameter $\mathcal{R}_{i}$, representing:
\begin{itemize}
\item $\mathcal{R}^{t}_{1}$: Convergence criterion on inner iterations.
\item $\mathcal{R}^{t}_{2}$: Step characteristics selection criterion:
\begin{displaymath}
\mathcal{R}^{t}_{2} = \left\{
\begin{array}{rl}
 0.0 & \textrm{step characteristics scheme} \\
>0.0 & \textrm{diamond differencing scheme.}
\end{array} \right.
\end{displaymath}
\item $\mathcal{R}^{t}_{3}$: Track spacing in cm for 3D prismatic tracking.
\item $\mathcal{R}^{t}_{4}$: Tracking symmetry factor for maximum track length calculation during the calculation of a 3D prismatic tracking.
\end{itemize}

The following records will also be present in the \namedir{PROJECTION} directory of a \dir{tracking}
directory when a prismatic tracking is considered.

\begin{DescriptionEnregistrement}{The \moc{MCCGT:} records in
\namedir{PROJECTION}}{8.0cm}
\OptRealEnr
  {ZCOORD\blank{6}}{$\mathcal{M}^{t}_{18}+1$}{$\mathcal{S}^{t}_{39} > 0$}{cm}
  {The $z-$directed mesh position}
\OptIntEnr
  {IND2T3\blank{6}}{$N_{ind}$}{$\mathcal{S}^{t}_{39} > 0$}
  {Volume and surfaces index for a 3D prismatic geometry. Its size is $N_{ind}=(N_{2D}+1)(\mathcal{M}^{t}_{18}+2)$ where $N_{2D}$ is the number of volumes and surfaces in the initial 2D tracking}
\OptDbleEnr
  {VNORF\blank{7}}{$N_{nor}$}{$\mathcal{S}^{t}_{39} > 0$}{}
  {Angular dependent normalization factors for a 3D prismatic extended tracking. Its size is $N_{nor}= 2 \mathcal{S}^{t}_{1} \mathcal{M}^{t}_{2} N_{\textrm{angl}}$ where $N_{\textrm{angl}}$ is the number of tracking angles in the initial 2D tracking}
  
\end{DescriptionEnregistrement}

\eject
